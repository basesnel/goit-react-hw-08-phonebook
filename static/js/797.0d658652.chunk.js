"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[797],{5797:function(e,n,t){t.r(n),t.d(n,{default:function(){return le}});var r,a=t(9439),i=t(168),o=t(2791),s=t(9434),l=t(4808),c=t(6916),u=function(e){return e.contacts.items},d=function(e){return e.contacts.isLoading},h=function(e){return e.contacts.error},x=function(e){return e.filterStore.filter},m=(0,c.P1)([u,x],(function(e,n){var t=n.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(t)}))})),p=t(6245),f=t(3466),j=t(5403),Z=t(184),v=function(){var e=(0,s.v9)(x),n=(0,s.I0)();return(0,Z.jsx)(p.Z,{type:"text",name:"filter",value:e,label:"Contact Search",variant:"outlined",onChange:function(e){n((0,l.T)(e.currentTarget.value))},fullWidth:!0,InputProps:{startAdornment:(0,Z.jsx)(f.Z,{position:"start",children:(0,Z.jsx)(j.Z,{})})}})},g=t(4942),b=t(3634),y=t(9836),C=t(3382),w=t(8745),k=t(618),P=t(9281),I=t(6890),S=t(5855),W=t(5527),N=t(6151),T=t(7247),B=t(6934),F=function(e){var n=(0,s.v9)(m),t=(0,s.I0)(),r=function(e,n){!function(e){t((0,b.GK)(e))}(n),e.target.disabled=!0,e.target.innerText="Deleting..."},a=(0,B.ZP)(w.Z)((function(e){var n,t=e.theme;return n={},(0,g.Z)(n,"&.".concat(k.Z.head),{backgroundColor:t.palette.text.primary,color:t.palette.common.white}),(0,g.Z)(n,"&.".concat(k.Z.body),{fontSize:14}),n}));return(0,Z.jsx)(P.Z,{component:W.Z,sx:{mx:"auto",maxWidth:960},children:(0,Z.jsxs)(y.Z,{sx:{minWidth:650},children:[(0,Z.jsx)(I.Z,{children:(0,Z.jsxs)(S.Z,{children:[(0,Z.jsx)(a,{children:"Name"}),(0,Z.jsx)(a,{align:"center",children:"Phone number"}),(0,Z.jsx)(a,{align:"right",children:"Action"})]})}),(0,Z.jsx)(C.Z,{children:n.map((function(e){var n=e.id,t=e.name,a=e.number;return(0,Z.jsxs)(S.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,Z.jsx)(w.Z,{align:"left",children:t}),(0,Z.jsx)(w.Z,{align:"center",children:a}),(0,Z.jsx)(w.Z,{align:"right",children:(0,Z.jsx)(N.Z,{variant:"outlined",onClick:function(e){return r(e,n)},color:"error",children:(0,Z.jsx)(T.Z,{})})})]},n)}))})]})})},O=t(5243),z=t(8789).ZP.div(r||(r=(0,i.Z)(["\n  position: absolute;\n  width: 100%;\n  z-index: 10;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 10px;\n  justify-content: center;\n"])));function L(){return(0,Z.jsx)(z,{children:(0,Z.jsx)(O.iT,{height:50,width:50,color:"#4080f0",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#d0d0d0",strokeWidth:4,strokeWidthSecondary:4})})}var _=t(3457),A=t(1889),q=t(6314),G=t(675),H=t(5289),J=t(5661),E=t(9157),R=t(890),V=t(3400),K=t(9823);function M(e){var n=e.title,t=e.children,r=e.openPopup,a=e.setOpenPopup;return(0,Z.jsxs)(H.Z,{open:r,fullWidth:!0,children:[(0,Z.jsxs)(J.Z,{style:{display:"flex",alignItems:"center"},children:[(0,Z.jsx)(R.Z,{variant:"h6",component:"div",style:{flexGrow:1},children:n}),(0,Z.jsx)(V.Z,{onClick:function(){a(!1)},children:(0,Z.jsx)(K.Z,{})})]}),(0,Z.jsx)(E.Z,{sx:{p:2},children:t})]})}var D=t(5984),Y=t(5705),$=t(6727),Q=t(9504),U=t.n(Q);function X(e,n){var t=(0,o.useState)((function(){var t;return null!==(t=JSON.parse(window.localStorage.getItem(e)))&&void 0!==t?t:n})),r=(0,a.Z)(t,2),i=r[0],s=r[1];return(0,o.useEffect)((function(){window.localStorage.setItem(e,JSON.stringify(i))}),[e,i]),[i,s]}var ee,ne=t(1686),te=$.Ry().shape({name:$.Z_().required().min(3,"Must be at least 3 characters"),number:$.Z_().required().matches(/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{2,3}\)?)\s?-?\s?(\(?\d{2,4}\)?)?$/,"Not valid, please try: 000-000-0000")});function re(e){var n=e.setOpenPopup,t=(0,s.v9)(u),r=X("name",""),i=(0,a.Z)(r,2),o=i[0],l=i[1],c=X("number",""),d=(0,a.Z)(c,2),h=d[0],x=d[1],m={name:o,number:h},f=(0,D.x0)(),j=(0,D.x0)(),v=function(e){var n=e.currentTarget,t=n.name,r=n.value;switch(t){case"name":l(r);break;case"number":x(r)}},g=(0,s.I0)(),y=function(){l(""),x("")};return(0,Z.jsx)(Y.J9,{enableReinitialize:!0,initialValues:m,validationSchema:te,onSubmit:function(e){!function(e){var n={name:e.name,number:e.number},r=n.name.toLowerCase();t.find((function(e){return e.name.toLowerCase()===r}))?alert("".concat(n.name," is already in contacts.")):g((0,b.uK)(n))}(m),y(),n(!1)},isValid:!0,children:function(e){var n=e.errors,t=e.isValid,r=e.touched,a=e.dirty;return(0,Z.jsx)(Y.l0,{children:(0,Z.jsxs)(q.Z,{spacing:1,sx:{p:2},useFlexGap:!0,children:[(0,Z.jsx)(Y.gN,{type:"text",name:"name",as:p.Z,fullWidth:!0,variant:"outlined",color:"primary",label:"Name",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",value:o,onChange:v,id:f,error:Boolean(n.name)&&Boolean(r.name),helperText:Boolean(r.name)&&n.name}),(0,Z.jsx)(U(),{mask:"999-999-9999",value:h,onChange:v,children:function(){return(0,Z.jsx)(Y.gN,{type:"tel",name:"number",as:p.Z,fullWidth:!0,variant:"outlined",color:"primary",label:"Phone",title:"The phone must have phones and look like a template 000-000-0000.",id:j,error:Boolean(n.number)&&Boolean(r.number),helperText:Boolean(r.number)&&n.number})}}),(0,Z.jsx)(N.Z,{variant:"contained",type:"submit",endIcon:(0,Z.jsx)(ne.Z,{}),size:"large",fullWidth:!0,style:{maxHeight:"56px",minHeight:"56px"},disabled:!t||a,children:"Send Contact"})]})})}})}var ae=(0,_.Z)(W.Z)(ee||(ee=(0,i.Z)(["\n  margin: 0 auto;\n  width: 100%;\n  padding: 24px;\n"])));function ie(){var e=(0,s.I0)(),n=(0,s.v9)(d),t=(0,s.v9)(h),r=(0,o.useState)(!1),i=(0,a.Z)(r,2),l=i[0],c=i[1],u=(0,o.useState)(null),x=(0,a.Z)(u,2),m=x[0],p=x[1];return(0,o.useEffect)((function(){e((0,b.yF)())}),[e]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(q.Z,{spacing:2,useFlexGap:!0,children:[(0,Z.jsx)(ae,{elevation:3,children:(0,Z.jsxs)(A.ZP,{container:!0,justifyContent:"space-around",alignItems:"center",spacing:8,children:[(0,Z.jsx)(A.ZP,{item:!0,xs:8,children:(0,Z.jsx)(v,{})}),(0,Z.jsx)(A.ZP,{item:!0,xs:4,children:(0,Z.jsx)(N.Z,{variant:"contained",type:"submit",endIcon:(0,Z.jsx)(G.Z,{}),size:"large",fullWidth:!0,onClick:function(){return c(!0)},style:{maxHeight:"56px",minHeight:"56px"},children:"Add contact"})})]})}),(0,Z.jsxs)(ae,{elevation:3,children:[n&&!t&&(0,Z.jsx)(L,{}),(0,Z.jsx)(F,{setContactId:p,setOpenPopup:c})]})]}),(0,Z.jsx)(M,{title:"Contact Form",openPopup:l,setOpenPopup:c,children:(0,Z.jsx)(re,{contactId:m,setContactId:p,setOpenPopup:c})})]})}var oe=t(4270),se=t(4554);function le(){var e=(0,s.I0)(),n=(0,s.v9)(d);return(0,o.useEffect)((function(){e((0,b.yF)())}),[e]),(0,Z.jsxs)(se.Z,{sx:{p:4},children:[(0,Z.jsx)(oe.q,{children:(0,Z.jsx)("title",{children:"Your Contacts"})}),(0,Z.jsx)("div",{children:n&&"Request in progress..."}),(0,Z.jsx)(ie,{})]})}}}]);
//# sourceMappingURL=797.0d658652.chunk.js.map