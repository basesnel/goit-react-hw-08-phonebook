"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[599],{2599:function(e,n,t){t.r(n),t.d(n,{default:function(){return ee}});var r=t(168),a=t(2791),i=t(9434),o=t(9439),s=t(5984),l=t(5705),c=t(6727),u=t(9504),d=t.n(u);function h(e,n){var t=(0,a.useState)((function(){var t;return null!==(t=JSON.parse(window.localStorage.getItem(e)))&&void 0!==t?t:n})),r=(0,o.Z)(t,2),i=r[0],s=r[1];return(0,a.useEffect)((function(){window.localStorage.setItem(e,JSON.stringify(i))}),[e,i]),[i,s]}var m=t(6916),x=function(e){return e.contacts.items},f=function(e){return e.contacts.isLoading},p=function(e){return e.contacts.error},j=function(e){return e.filterStore.filter},v=(0,m.P1)([x,j],(function(e,n){var t=n.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(t)}))})),Z=t(3634),g=t(1743),b=t(3736),y=t(6314),w=t(675),C=t(184),k=c.Ry().shape({name:c.Z_().required().min(3,"Must be at least 3 characters"),number:c.Z_().required().matches(/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{2,3}\)?)\s?-?\s?(\(?\d{2,4}\)?)?$/,"Not valid, please try: 000-000-0000")});function I(){var e=h("name",""),n=(0,o.Z)(e,2),t=n[0],r=n[1],a=h("number",""),c=(0,o.Z)(a,2),u=c[0],m=c[1],f={name:t,number:u},p=(0,s.x0)(),j=(0,s.x0)(),v=function(e){var n=e.currentTarget,t=n.name,a=n.value;switch(t){case"name":r(a);break;case"number":m(a)}},I=(0,i.v9)(x),S=(0,i.I0)(),P=function(){r(""),m("")};return(0,C.jsx)(l.J9,{enableReinitialize:!0,initialValues:f,validationSchema:k,onSubmit:function(e){console.log("submit contact"),function(e){var n={name:e.name,number:e.number},t=n.name.toLowerCase();I.find((function(e){return e.name.toLowerCase()===t}))?alert("".concat(n.name," is already in contacts.")):S((0,Z.uK)(n))}(f),P()},isValid:!0,children:function(e){var n=e.errors,r=e.isValid,a=e.touched,i=e.dirty;return(0,C.jsx)(l.l0,{children:(0,C.jsxs)(y.Z,{direction:"row",spacing:1,useFlexGap:!0,children:[(0,C.jsx)(l.gN,{type:"text",name:"name",as:g.Z,fullWidth:!0,variant:"outlined",color:"primary",label:"Name",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",value:t,onChange:v,id:p,error:Boolean(n.name)&&Boolean(a.name),helperText:Boolean(a.name)&&n.name}),(0,C.jsx)(d(),{mask:"999-999-9999",value:u,onChange:v,children:function(){return(0,C.jsx)(l.gN,{type:"tel",name:"number",as:g.Z,fullWidth:!0,variant:"outlined",color:"primary",label:"Phone",title:"The phone must have phones and look like a template 000-000-0000.",id:j,error:Boolean(n.number)&&Boolean(a.number),helperText:Boolean(a.number)&&n.number})}}),(0,C.jsx)(b.Z,{variant:"contained",type:"submit",endIcon:(0,C.jsx)(w.Z,{}),size:"large",style:{maxWidth:"190px",maxHeight:"56px",minWidth:"190px",minHeight:"56px"},disabled:!r||i,children:"Add contact"})]})})}})}var S,P=t(4808),W=t(3466),N=t(5403),T=function(){var e=(0,i.v9)(j),n=(0,i.I0)();return(0,C.jsx)(g.Z,{type:"text",name:"filter",value:e,onChange:function(e){n((0,P.T)(e.currentTarget.value))},fullWidth:!0,InputProps:{startAdornment:(0,C.jsx)(W.Z,{position:"start",children:(0,C.jsx)(N.Z,{})})}})},B=t(4942),L=t(9836),_=t(3382),z=t(8745),A=t(618),F=t(9281),q=t(6890),J=t(5855),E=t(5527),G=t(7247),R=t(6934),V=function(){var e=(0,i.v9)(v),n=(0,i.I0)(),t=function(e,t){!function(e){n((0,Z.GK)(e))}(t),e.target.disabled=!0,e.target.innerText="Deleting..."},r=(0,R.ZP)(z.Z)((function(e){var n,t=e.theme;return n={},(0,B.Z)(n,"&.".concat(A.Z.head),{backgroundColor:t.palette.text.primary,color:t.palette.common.white}),(0,B.Z)(n,"&.".concat(A.Z.body),{fontSize:14}),n}));return(0,C.jsx)(F.Z,{component:E.Z,sx:{mx:"auto",maxWidth:960},children:(0,C.jsxs)(L.Z,{sx:{minWidth:650},children:[(0,C.jsx)(q.Z,{children:(0,C.jsxs)(J.Z,{children:[(0,C.jsx)(r,{children:"Name"}),(0,C.jsx)(r,{align:"center",children:"Phone number"}),(0,C.jsx)(r,{align:"right",children:"Action"})]})}),(0,C.jsx)(_.Z,{children:e.map((function(e){var n=e.id,r=e.name,a=e.number;return(0,C.jsxs)(J.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,C.jsx)(z.Z,{align:"left",children:r}),(0,C.jsx)(z.Z,{align:"center",children:a}),(0,C.jsx)(z.Z,{align:"right",children:(0,C.jsx)(b.Z,{variant:"outlined",onClick:function(e){return t(e,n)},endIcon:(0,C.jsx)(G.Z,{}),color:"error",children:"Delete"})})]},n)}))})]})})},D=t(5243),H=t(8789).ZP.div(S||(S=(0,r.Z)(["\n  position: absolute;\n  width: 100%;\n  z-index: 10;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 10px;\n  justify-content: center;\n"])));function K(){return(0,C.jsx)(H,{children:(0,C.jsx)(D.iT,{height:50,width:50,color:"#4080f0",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#d0d0d0",strokeWidth:4,strokeWidthSecondary:4})})}var M,O=t(3457),Y=t(1889),$=(0,O.Z)(E.Z)(M||(M=(0,r.Z)(["\n  margin: 0 auto;\n  width: 100%;\n  padding: 24px;\n"])));function Q(){var e=(0,i.I0)(),n=(0,i.v9)(f),t=(0,i.v9)(p);return(0,a.useEffect)((function(){e((0,Z.yF)())}),[e]),(0,C.jsxs)(y.Z,{spacing:2,useFlexGap:!0,children:[(0,C.jsx)($,{elevation:3,children:(0,C.jsxs)(Y.ZP,{container:!0,justifyContent:"space-around",alignItems:"center",spacing:4,children:[(0,C.jsx)(Y.ZP,{item:!0,xs:9,children:(0,C.jsx)(I,{})}),(0,C.jsx)(Y.ZP,{item:!0,xs:3,children:(0,C.jsx)(T,{})})]})}),(0,C.jsxs)($,{elevation:3,children:[n&&!t&&(0,C.jsx)(K,{}),(0,C.jsx)(V,{})]})]})}var U=t(4270),X=t(4554);function ee(){var e=(0,i.I0)(),n=(0,i.v9)(f);return(0,a.useEffect)((function(){e((0,Z.yF)())}),[e]),(0,C.jsxs)(X.Z,{sx:{p:4},children:[(0,C.jsx)(U.q,{children:(0,C.jsx)("title",{children:"Your Contacts"})}),(0,C.jsx)("div",{children:n&&"Request in progress..."}),(0,C.jsx)(Q,{})]})}}}]);
//# sourceMappingURL=599.b8b00a08.chunk.js.map